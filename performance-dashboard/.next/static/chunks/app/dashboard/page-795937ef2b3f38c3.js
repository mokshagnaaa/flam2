(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{3146:function(e,t,r){Promise.resolve().then(r.bind(r,6059)),Promise.resolve().then(r.bind(r,1523)),Promise.resolve().then(r.bind(r,49))},6059:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return P}});var l=r(7437),n=r(2265);let a=(0,n.createContext)(void 0);function i(e){let{children:t,initialData:r}=e,[i,o]=(0,n.useState)(r),[s,d]=(0,n.useState)(void 0),c=(0,n.useRef)(null),u=(0,n.useRef)(null);(0,n.useEffect)(()=>{try{c.current=new Worker("/workers/downsample.js"),c.current.onmessage=e=>{let t=e.data;t&&"result"===t.type&&d(t.data)}}catch(e){console.warn("Worker not available:",e)}return()=>{c.current&&(c.current.terminate(),c.current=null)}},[]);let p=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2e3;c.current&&(u.current&&clearTimeout(u.current),u.current=window.setTimeout(()=>{u.current=null;let t=i.map(e=>({timestamp:e.timestamp,value:e.value}));c.current.postMessage({type:"downsample",id:Date.now(),data:t,threshold:e})},120))};return(0,l.jsx)(a.Provider,{value:{data:i,downsampled:s,push:e=>o(t=>{let r=t.length>2e5?t.slice(t.length-2e5+1):t.slice();return r.push(e),p(Math.min(2e3,Math.max(200,Math.floor(r.length/10)))),r}),requestDownsample:e=>p(e)},children:t})}function o(){let e=(0,n.useContext)(a);if(!e)throw Error("useDataContext must be used inside DataProvider");return e}let s={bgPrimary:"#0f172a",bgSecondary:"#1e293b",bgTertiary:"#334155",bgAccent:"#0d4b9e",bgHover:"#1e40af",bgActive:"#2563eb",textPrimary:"#f8fafc",textSecondary:"#94a3b8",textAccent:"#60a5fa",borderPrimary:"#334155",borderSecondary:"#475569",borderAccent:"#3b82f6",success:"#10b981",warning:"#f59e0b",error:"#ef4444"},d={base:{padding:"8px 12px",borderRadius:"6px",border:"1px solid transparent",cursor:"pointer",fontWeight:500,transition:"all 0.2s ease",outline:"none",display:"inline-flex",alignItems:"center",justifyContent:"center",gap:"6px"},primary:{backgroundColor:s.bgAccent,color:s.textPrimary,"&:hover":{backgroundColor:s.bgHover},"&:active":{backgroundColor:s.bgActive}},secondary:{backgroundColor:s.bgSecondary,color:s.textPrimary,"&:hover":{backgroundColor:s.bgHover}},small:{padding:"4px 8px",fontSize:"0.875rem"},icon:{padding:"6px",borderRadius:"4px"}},c={background:s.bgPrimary,borderRadius:"12px",border:"1px solid ".concat(s.borderPrimary),padding:"12px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"};function u(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],l=(0,n.useRef)(t);l.current=t,(0,n.useEffect)(()=>{let t=e.current;if(!t)return;let r=t.getContext("2d"),n=0,a=()=>{let e=devicePixelRatio||1,i=Math.max(1,Math.floor(t.clientWidth*e)),o=Math.max(1,Math.floor(t.clientHeight*e));(t.width!==i||t.height!==o)&&(t.width=i,t.height=o),r.save(),r.scale(e,e),l.current(r,t.clientWidth,t.clientHeight),r.restore(),n=requestAnimationFrame(a)};return n=requestAnimationFrame(a),()=>cancelAnimationFrame(n)},r)}function p(e,t,r){let l;if(0===e.length)throw Error("Cannot aggregate empty window");switch(t){case"sum":l=e.reduce((e,t)=>e+t.value,0);break;case"average":l=e.reduce((e,t)=>e+t.value,0)/e.length;break;case"min":l=Math.min(...e.map(e=>e.value));break;case"max":l=Math.max(...e.map(e=>e.value));break;default:l=e[0].value}return{timestamp:r,value:l,category:e[0].category}}function x(){var e;let{overrideData:t,zoom:r={scale:1,offset:0},aggregation:a={method:"none",window:6e4}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=(0,n.useRef)(null),s=o(),d=null!==(e=null!=t?t:s.downsampled)&&void 0!==e?e:s.data,[c,x]=(0,n.useState)(!1),[g,m]=(0,n.useState)(null),h=(0,n.useRef)(null),f=(0,n.useMemo)(()=>(function(e,t,r){if("none"===t||!e.length)return e;let l=[],n=[],a=Math.floor(e[0].timestamp/r)*r;for(let i of e)i.timestamp>=a+r&&(n.length>0&&l.push(p(n,t,a)),a=Math.floor(i.timestamp/r)*r,n=[]),n.push(i);return n.length>0&&l.push(p(n,t,a)),l})(d,a.method,a.window),[d,a.method,a.window]),y=(0,n.useMemo)(()=>{let e=Date.now()-2e3/r.scale+r.offset;return f.filter(t=>{var r;return(null!==(r=t.timestamp)&&void 0!==r?r:0)>=e})},[f,r]),b=(0,n.useMemo)(()=>{if(!y.length)return{min:0,max:1};let e=1/0,t=-1/0;for(let r=0;r<y.length;r++){let l=y[r].value;l<e&&(e=l),l>t&&(t=l)}return e===t&&(t=e+1),{min:e,max:t}},[y]);u(i,(e,t,l)=>{if(e.clearRect(0,0,t,l),y.length<=1)return;e.strokeStyle="#1e293b",e.lineWidth=1;let n=6e4*(r.scale<=1?1:Math.ceil(r.scale/2)),a=Date.now(),i=a-2e3/r.scale+r.offset,o=a+r.offset;for(let r=Math.floor(i/n)*n;r<=o;r+=n){let n=(r-i)/(o-i)*t;e.beginPath(),e.moveTo(n,0),e.lineTo(n,l),e.stroke()}for(let r=0;r<=5;r++){let n=r/5*l;e.beginPath(),e.moveTo(0,n),e.lineTo(t,n),e.stroke()}e.lineWidth=2,e.strokeStyle="#60a5fa";let s=Math.max(1,b.max-b.min);e.beginPath();for(let r=0;r<y.length;r++){let n=y[r],a=(n.timestamp-i)/(o-i)*t,d=(1-(n.value-b.min)/s)*l;0===r?e.moveTo(a,d):e.lineTo(a,d)}e.stroke(),e.fillStyle="#94a3b8",e.font="12px sans-serif",e.textAlign="center";for(let r=Math.floor(i/n)*n;r<=o;r+=n){let n=(r-i)/(o-i)*t,a=new Date(r),s="".concat(a.getHours(),":").concat(a.getMinutes().toString().padStart(2,"0"));e.fillText(s,n,l-5)}e.textAlign="right";for(let r=0;r<=5;r++){let n=b.min+r/5*(b.max-b.min),a=(1-r/5)*l;e.fillText(n.toFixed(1),t-5,a+4)}},[y,b,r]);let v=()=>{x(!1),m(null)};return(0,l.jsx)("div",{ref:h,style:{width:"100%",height:360,background:"#071033",borderRadius:8,cursor:c?"grabbing":"grab"},onMouseDown:e=>{if(!h.current)return;let t=h.current.getBoundingClientRect(),l=e.clientX-t.left;x(!0),m({x:l,offset:r.offset})},onMouseMove:e=>{if(!c||!g||!h.current)return;let t=h.current.getBoundingClientRect(),l=e.clientX-t.left-g.x,n=2e3/r.scale/t.width,a=g.offset-l*n;r.offset!==a&&(r.offset=a)},onMouseUp:v,onMouseLeave:v,onWheel:e=>{if(!h.current)return;e.preventDefault();let t=h.current.getBoundingClientRect(),l=(e.clientX-t.left)/t.width,n=e.deltaY>0?.9:1.1,a=Math.max(1,Math.min(10,r.scale*n)),i=2e3/r.scale,o=2e3/a,s=r.offset-(o-i)*l;r.scale=a,r.offset=s},children:(0,l.jsx)("canvas",{ref:i,style:{width:"100%",height:"100%",display:"block"}})})}function g(){var e;let{overrideData:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=(0,n.useRef)(null),a=o(),i=null!==(e=null!=t?t:a.downsampled)&&void 0!==e?e:a.data,s=(0,n.useMemo)(()=>i.slice(-50),[i]),d=(0,n.useMemo)(()=>{if(!s.length)return{min:0,max:1};let e=1/0,t=-1/0;for(let r=0;r<s.length;r++){let l=s[r].value;l<e&&(e=l),l>t&&(t=l)}return e===t&&(t=e+1),{min:e,max:t}},[s]);return u(r,(e,t,r)=>{if(e.clearRect(0,0,t,r),!s.length)return;e.fillStyle="#fb923c";let l=t/Math.max(1,s.length),n=Math.max(1,d.max-d.min);for(let t=0;t<s.length;t++){let a=s[t],i=t*l,o=(a.value-d.min)/n*r;e.fillRect(i,r-o,.8*l,o)}},[s,d]),(0,l.jsx)("div",{style:{width:"100%",height:240,background:"#061826",borderRadius:8},children:(0,l.jsx)("canvas",{ref:r,style:{width:"100%",height:"100%",display:"block"}})})}function m(){var e;let{overrideData:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=(0,n.useRef)(null),a=o(),i=null!==(e=null!=t?t:a.downsampled)&&void 0!==e?e:a.data,s=(0,n.useMemo)(()=>i.slice(-1e3),[i]),d=(0,n.useMemo)(()=>{if(!s.length)return{min:0,max:1};let e=1/0,t=-1/0;for(let r=0;r<s.length;r++){let l=s[r].value;l<e&&(e=l),l>t&&(t=l)}return e===t&&(t=e+1),{min:e,max:t}},[s]);return u(r,(e,t,r)=>{if(e.clearRect(0,0,t,r),!s.length)return;e.fillStyle="#34d399";let l=Math.max(1,d.max-d.min);for(let n=0;n<s.length;n++){let a=s[n],i=n/(s.length-1)*t,o=(1-(a.value-d.min)/l)*r;e.beginPath(),e.arc(i,o,1.2,0,2*Math.PI),e.fill()}},[s,d]),(0,l.jsx)("div",{style:{width:"100%",height:320,background:"#061828",borderRadius:8},children:(0,l.jsx)("canvas",{ref:r,style:{width:"100%",height:"100%",display:"block"}})})}function h(){var e;let{overrideData:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=(0,n.useRef)(null),a=o(),i=null!==(e=null!=t?t:a.downsampled)&&void 0!==e?e:a.data,s=(0,n.useMemo)(()=>i.slice(-2e3),[i]);return u(r,(e,t,r)=>{if(e.clearRect(0,0,t,r),!s.length)return;let l=Math.ceil(s.length/200),n=t/200,a=r/Math.max(1,l),i=1/0,o=-1/0;for(let e=0;e<s.length;e++){let t=s[e].value;t<i&&(i=t),t>o&&(o=t)}i===o&&(o=i+1);let d=Math.max(1,o-i);for(let t=0;t<s.length;t++){let r=s[t],l=t%200,o=Math.floor(t/200),c=(r.value-i)/d,u=Math.round(255*c),p=Math.round(80+175*(1-c));e.fillStyle="rgb(".concat(u,",").concat(p,",60)"),e.fillRect(l*n,o*a,n,a)}},[s]),(0,l.jsx)("div",{style:{width:"100%",height:240,background:"#000814",borderRadius:8},children:(0,l.jsx)("canvas",{ref:r,style:{width:"100%",height:"100%",display:"block"}})})}function f(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],{push:r}=o();(0,n.useEffect)(()=>{if(!t)return;let l=setInterval(()=>{r({timestamp:Date.now(),value:100*Math.random()-50,category:"stream-".concat(Math.floor(4*Math.random()))})},e);return()=>clearInterval(l)},[e,r,t])}function y(){let e=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3,[t,r]=(0,n.useState)({fps:0}),l=(0,n.useRef)(null),a=(0,n.useRef)(0),i=(0,n.useRef)(performance.now());return(0,n.useEffect)(()=>{let t=()=>{a.current++,l.current=requestAnimationFrame(t)};l.current=requestAnimationFrame(t);let n=setInterval(()=>{let e=performance.now(),t=e-i.current,l=Math.round(1e3*a.current/Math.max(1,t));a.current=0,i.current=e;let n=performance.memory;r({fps:l,memory:n?{...n}:void 0})},e);return()=>{l.current&&cancelAnimationFrame(l.current),clearInterval(n)}},[e]),t}(500);return(0,l.jsxs)("div",{style:{padding:12,background:"#071033",borderRadius:8},children:[(0,l.jsx)("h4",{style:{margin:"0 0 8px 0"},children:"Performance"}),(0,l.jsxs)("div",{children:["FPS: ",(0,l.jsx)("strong",{children:e.fps})]}),(0,l.jsxs)("div",{children:["Memory: ",e.memory?Math.round(e.memory.usedJSHeapSize/1024/1024)+" MB":"N/A"]})]})}function b(e){let{categories:t,hidden:r,onToggle:a,onShowAll:i,onHideAll:o,onGroupToggle:u,onChartTypeChange:p,onChartOptionsChange:x}=e,[g,m]=(0,n.useState)(""),h=(0,n.useMemo)(()=>Object.entries(t.map(e=>"string"==typeof e?{id:e}:e).reduce((e,t)=>{let r=t.group||"Default";return e[r]||(e[r]=[]),g&&!t.id.toLowerCase().includes(g.toLowerCase())||e[r].push(t),e},{})).filter(e=>{let[,t]=e;return t.length>0}),[t,g]);return(0,l.jsxs)("div",{style:{...c},children:[(0,l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[(0,l.jsx)("h4",{style:{margin:0,color:s.textAccent},children:"Filters"}),(0,l.jsxs)("div",{style:{display:"flex",gap:8},children:[(0,l.jsx)("button",{onClick:()=>null==i?void 0:i(),style:{...d.base,...d.small,backgroundColor:s.bgSecondary},children:"Show all"}),(0,l.jsx)("button",{onClick:()=>null==o?void 0:o(),style:{...d.base,...d.small,backgroundColor:s.bgSecondary},children:"Hide all"})]})]}),(0,l.jsx)("input",{type:"search",placeholder:"Search filters...",value:g,onChange:e=>m(e.target.value),style:{width:"100%",padding:"6px 8px",marginBottom:12,background:s.bgPrimary,border:"1px solid ".concat(s.borderPrimary),borderRadius:4,color:s.textPrimary}}),(0,l.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:12,maxHeight:"300px",overflowY:"auto",paddingRight:8},children:h.map(e=>{let[t,n]=e;return(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:4,color:"#94a3b8",fontSize:"0.9em"},children:[(0,l.jsx)("span",{children:t}),u&&(0,l.jsxs)("div",{style:{display:"flex",gap:4},children:[(0,l.jsx)("button",{onClick:()=>u(t,!0),style:{padding:"2px 4px",fontSize:"0.8em"},children:"All"}),(0,l.jsx)("button",{onClick:()=>u(t,!1),style:{padding:"2px 4px",fontSize:"0.8em"},children:"None"})]})]}),(0,l.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:6},children:n.map(e=>(0,l.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:8,padding:"4px 8px",borderRadius:4,background:r.has(e.id)?s.bgPrimary:s.bgTertiary,border:"1px solid ".concat(r.has(e.id)?s.borderPrimary:s.borderSecondary)},children:[(0,l.jsx)("input",{type:"checkbox",checked:!r.has(e.id),onChange:()=>a(e.id)}),(0,l.jsxs)("div",{style:{flex:1,display:"flex",alignItems:"center",gap:8},children:[(0,l.jsxs)("span",{style:{color:r.has(e.id)?s.textSecondary:s.textPrimary,display:"flex",alignItems:"center",gap:6,flex:1},children:[e.color&&(0,l.jsx)("span",{style:{width:12,height:12,borderRadius:"50%",background:e.color,display:"inline-block"}}),e.id]}),p&&(0,l.jsxs)("select",{value:"object"==typeof e&&e.chartType||"line",onChange:t=>p(e.id,t.target.value),style:{padding:"2px 4px",background:s.bgSecondary,border:"1px solid ".concat(s.borderPrimary),borderRadius:4,color:s.textPrimary,fontSize:"0.8em"},children:[(0,l.jsx)("option",{value:"line",children:"Line"}),(0,l.jsx)("option",{value:"bar",children:"Bar"}),(0,l.jsx)("option",{value:"scatter",children:"Scatter"}),(0,l.jsx)("option",{value:"heatmap",children:"Heatmap"})]}),x&&"object"==typeof e&&e.chartType&&(0,l.jsx)("button",{onClick:()=>{var t,r,l,n;let a=e.chartType,i={};if("line"===a){let r=(null===(t=e.chartOptions)||void 0===t?void 0:t.line)||{};i={line:{strokeWidth:Number(prompt("Stroke width (px):",String(r.strokeWidth||2)))||void 0,tension:Number(prompt("Line tension (0-1):",String(r.tension||0)))||void 0,fill:confirm("Fill area under line?")}}}else if("bar"===a){let t=(null===(r=e.chartOptions)||void 0===r?void 0:r.bar)||{};i={bar:{width:Number(prompt("Bar width (px):",String(t.width||20)))||void 0,gap:Number(prompt("Gap between bars (px):",String(t.gap||4)))||void 0,stacked:confirm("Stack bars?")}}}else if("scatter"===a){let t=(null===(l=e.chartOptions)||void 0===l?void 0:l.scatter)||{},r=prompt("Shape (circle/square/triangle):",t.shape||"circle");i={scatter:{size:Number(prompt("Point size (px):",String(t.size||6)))||void 0,shape:"circle"===r||"square"===r||"triangle"===r?r:void 0}}}else if("heatmap"===a){let t=(null===(n=e.chartOptions)||void 0===n?void 0:n.heatmap)||{},r=prompt("Color scale (linear/log):",t.colorScale||"linear");i={heatmap:{cellSize:Number(prompt("Cell size (px):",String(t.cellSize||20)))||void 0,colorScale:"linear"===r||"log"===r?r:void 0}}}i.line&&Object.values(i.line).every(e=>null==e)&&delete i.line,i.bar&&Object.values(i.bar).every(e=>null==e)&&delete i.bar,i.scatter&&Object.values(i.scatter).every(e=>null==e)&&delete i.scatter,i.heatmap&&Object.values(i.heatmap).every(e=>null==e)&&delete i.heatmap,Object.keys(i).length>0&&x(e.id,{...e.chartOptions,[a]:i})},style:{...d.base,...d.small,padding:"2px 6px",fontSize:"0.7em"},children:"⚙️"})]})]},e.id))})]},t)})})]})}s.bgSecondary,s.borderPrimary,"".concat("4px"," ").concat("8px"),s.textPrimary;let v=[{label:"30s",value:3e4},{label:"1m",value:6e4},{label:"5m",value:3e5},{label:"15m",value:9e5},{label:"30m",value:18e5},{label:"1h",value:36e5},{label:"4h",value:144e5},{label:"1d",value:864e5},{label:"All",value:1/0}];function j(e){let{value:t,onChange:r,onCustomRange:a}=e,[i,o]=(0,n.useState)(!1),[u,p]=(0,n.useState)({start:new Date(Date.now()-t),end:new Date}),x=(0,n.useMemo)(()=>v.find(e=>e.value===t)||v[0],[t]);(0,n.useEffect)(()=>{i||p({start:new Date(Date.now()-t),end:new Date})},[t,i]);let g=e=>e.toISOString().slice(0,16);return(0,l.jsxs)("div",{style:{...c,background:s.bgSecondary},children:[(0,l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[(0,l.jsx)("h4",{style:{margin:0,fontSize:"1.1rem",fontWeight:500,color:s.textAccent},children:"Time Range"}),(0,l.jsx)("button",{onClick:()=>o(!i),style:{...d.base,...d.small,backgroundColor:i?s.bgAccent:s.bgSecondary,borderColor:i?s.borderAccent:s.borderPrimary,color:i?s.textPrimary:s.textSecondary},children:i?"⚡ Live Mode":"\uD83D\uDCC5 Custom Range"})]}),i?(0,l.jsx)("div",{style:{background:s.bgPrimary,border:"1px solid ".concat(s.borderPrimary),borderRadius:"8px",padding:"16px"},children:(0,l.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[(0,l.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"auto 1fr",gap:"12px",alignItems:"center"},children:[(0,l.jsx)("label",{style:{color:s.textSecondary,fontSize:"0.9rem",width:"45px"},children:"From:"}),(0,l.jsx)("input",{type:"datetime-local",value:g(u.start),onChange:e=>{let t=new Date(e.target.value);p(e=>({...e,start:t})),a&&a(t.getTime(),u.end.getTime())},style:{padding:"8px 12px",background:s.bgSecondary,border:"1px solid ".concat(s.borderPrimary),borderRadius:"4px",color:s.textPrimary,width:"100%"}})]}),(0,l.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"auto 1fr",gap:"12px",alignItems:"center"},children:[(0,l.jsx)("label",{style:{color:s.textSecondary,fontSize:"0.9rem",width:"45px"},children:"To:"}),(0,l.jsx)("input",{type:"datetime-local",value:g(u.end),onChange:e=>{let t=new Date(e.target.value);p(e=>({...e,end:t})),a&&a(u.start.getTime(),t.getTime())},style:{padding:"8px 12px",background:s.bgSecondary,border:"1px solid ".concat(s.borderPrimary),borderRadius:"4px",color:s.textPrimary,width:"100%"}})]}),(0,l.jsxs)("div",{style:{marginTop:"4px",padding:"8px",background:s.bgSecondary,border:"1px solid ".concat(s.borderPrimary),borderRadius:"4px",fontSize:"0.9rem"},children:[(0,l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",color:s.textSecondary,marginBottom:"4px"},children:[(0,l.jsx)("span",{children:"Range:"}),(0,l.jsxs)("span",{style:{color:s.textAccent},children:[Math.round((u.end.getTime()-u.start.getTime())/1e3)," seconds"]})]}),(0,l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",color:s.textSecondary},children:[(0,l.jsx)("span",{children:"Data points:"}),(0,l.jsxs)("span",{style:{color:s.textAccent},children:[Math.round((u.end.getTime()-u.start.getTime())/100)," points"]})]})]}),(0,l.jsxs)("div",{style:{display:"flex",gap:"8px",marginTop:"4px"},children:[(0,l.jsx)("button",{onClick:()=>{let e=new Date,t=new Date(e.getTime()-6e4);p({start:t,end:e}),a&&a(t.getTime(),e.getTime())},style:{...d.base,...d.small,flex:1,backgroundColor:s.bgSecondary},children:"Last Minute"}),(0,l.jsx)("button",{onClick:()=>{let e=new Date,t=new Date(e.getTime()-36e5);p({start:t,end:e}),a&&a(t.getTime(),e.getTime())},style:{...d.base,...d.small,flex:1,backgroundColor:s.bgSecondary},children:"Last Hour"})]})]})}):(0,l.jsx)("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap",marginBottom:"16px"},children:v.map(e=>(0,l.jsx)("button",{onClick:()=>r(e.value),style:{...d.base,...d.small,backgroundColor:e.value===x.value?s.bgAccent:s.bgSecondary,borderColor:e.value===x.value?s.borderAccent:s.borderPrimary,color:e.value===x.value?s.textPrimary:s.textSecondary,fontWeight:e.value===x.value?600:400},children:e.label},e.label))})]})}function w(e){let{data:t,height:r=400,rowHeight:a=32}=e,i=(0,n.useRef)(null),[o,d]=(0,n.useState)(0),[c,u]=(0,n.useState)(""),[p,x]=(0,n.useState)(!1),[g,m]=(0,n.useState)("timestamp"),[h,f]=(0,n.useState)("desc"),y=(0,n.useMemo)(()=>{if(!c)return t;let e=c.toLowerCase();return t.filter(t=>{var r;return String(t.value).toLowerCase().includes(e)||(null!==(r=t.category)&&void 0!==r?r:"").toLowerCase().includes(e)||new Date(t.timestamp).toLocaleString().toLowerCase().includes(e)})},[t,c]),b=(0,n.useMemo)(()=>{let e=y.slice();return e.sort((e,t)=>{var r,l,n,a;let i=0;return"timestamp"===g&&(i=(null!==(r=e.timestamp)&&void 0!==r?r:0)-(null!==(l=t.timestamp)&&void 0!==l?l:0)),"value"===g&&(i=e.value-t.value),"category"===g&&(i=String(null!==(n=e.category)&&void 0!==n?n:"").localeCompare(String(null!==(a=t.category)&&void 0!==a?a:""))),"asc"===h?i:-i}),e},[y,g,h]),v=(0,n.useMemo)(()=>{if(!p)return b.map(e=>({type:"row",item:e}));let e=new Map;for(let l of b){var t,r;let n=null!==(t=l.category)&&void 0!==t?t:"uncategorized",a=null!==(r=e.get(n))&&void 0!==r?r:[];a.push(l),e.set(n,a)}let l=[];for(let[t,r]of e)for(let e of(l.push({type:"group",key:t}),r))l.push({type:"row",item:e});return l},[b,p]),j=v.length,{start:w,end:S}=function(e,t,r,l){let n=Math.ceil(t/r),a=Math.max(0,Math.floor(l/r)-n);return{start:a,end:Math.min(e,a+3*n)}}(j,r,a,o),k=Math.max(0,w-8),C=v.slice(k,Math.min(j,S+8));(0,n.useEffect)(()=>{let e=i.current;if(!e)return;let t=()=>d(e.scrollTop);return e.addEventListener("scroll",t),()=>e.removeEventListener("scroll",t)},[]);let M=e=>{g===e?f(e=>"asc"===e?"desc":"asc"):(m(e),f("desc"))};return(0,l.jsxs)("div",{style:{background:s.bgSecondary,borderRadius:"12px",padding:"16px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},children:[(0,l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:"16px",marginBottom:"16px"},children:[(0,l.jsxs)("h4",{style:{margin:0,color:s.textAccent,fontSize:"1.1rem",fontWeight:500},children:["Data Table (",y.length," rows)"]}),(0,l.jsxs)("div",{style:{display:"flex",gap:"16px",alignItems:"center"},children:[(0,l.jsxs)("div",{style:{position:"relative",display:"flex",alignItems:"center"},children:[(0,l.jsx)("input",{placeholder:"Search data...",value:c,onChange:e=>u(e.target.value),style:{padding:"8px 12px",paddingLeft:"32px",background:s.bgPrimary,border:"1px solid ".concat(s.borderPrimary),borderRadius:"6px",color:s.textPrimary,width:"200px"}}),(0,l.jsx)("span",{style:{position:"absolute",left:"10px",color:s.textSecondary},children:"\uD83D\uDD0D"})]}),(0,l.jsxs)("label",{style:{color:s.textSecondary,display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[(0,l.jsx)("input",{type:"checkbox",checked:p,onChange:e=>x(e.target.checked),style:{accentColor:s.bgAccent}}),"Group by category"]})]})]}),(0,l.jsx)("div",{ref:i,style:{height:r,overflow:"auto",border:"1px solid ".concat(s.borderPrimary),borderRadius:"8px",position:"relative",background:s.bgPrimary},children:(0,l.jsxs)("div",{style:{height:j*a,position:"relative"},children:[(0,l.jsx)("div",{style:{position:"sticky",top:0,left:0,right:0,background:s.bgSecondary,borderBottom:"2px solid ".concat(s.borderPrimary),zIndex:10},children:(0,l.jsxs)("div",{style:{display:"flex",gap:"16px",alignItems:"center",padding:"12px 16px",fontWeight:500,color:s.textSecondary},children:[(0,l.jsxs)("div",{style:{width:"160px",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px"},onClick:()=>M("timestamp"),children:["Time","timestamp"===g&&(0,l.jsx)("span",{style:{color:s.textAccent},children:"asc"===h?"↑":"↓"})]}),(0,l.jsxs)("div",{style:{width:"100px",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px"},onClick:()=>M("value"),children:["Value","value"===g&&(0,l.jsx)("span",{style:{color:s.textAccent},children:"asc"===h?"↑":"↓"})]}),(0,l.jsxs)("div",{style:{flex:1,cursor:"pointer",display:"flex",alignItems:"center",gap:"4px"},onClick:()=>M("category"),children:["Category","category"===g&&(0,l.jsx)("span",{style:{color:s.textAccent},children:"asc"===h?"↑":"↓"})]})]})}),(0,l.jsx)("div",{style:{position:"absolute",top:k*a,left:0,right:0},children:C.map((e,t)=>{if("group"===e.type)return(0,l.jsx)("div",{style:{height:a,display:"flex",alignItems:"center",padding:"0 16px",background:s.bgSecondary,borderBottom:"1px solid ".concat(s.borderPrimary),color:s.textAccent,fontWeight:500},children:e.key},"group-".concat(e.key,"-").concat(k+t));let r=e.item;return(0,l.jsxs)("div",{className:"data-row",style:{height:a,display:"flex",gap:"16px",alignItems:"center",padding:"0 16px",borderBottom:"1px solid ".concat(s.borderPrimary),transition:"background-color 0.2s"},children:[(0,l.jsx)("div",{style:{width:"160px",color:s.textSecondary,fontFamily:"monospace"},children:new Date(r.timestamp).toLocaleTimeString()}),(0,l.jsx)("div",{style:{width:"100px",color:s.textPrimary,fontFamily:"monospace"},children:r.value.toFixed(2)}),(0,l.jsxs)("div",{style:{flex:1,color:s.textPrimary,display:"flex",alignItems:"center",gap:"8px"},children:[(0,l.jsx)("span",{style:{width:"8px",height:"8px",borderRadius:"50%",backgroundColor:"hsl(".concat(30*(r.category||"unknown").split(".")[0].length,", 70%, 50%)")}}),r.category]})]},r.timestamp+"-"+k+"-"+t)})})]})})]})}function S(e){let{zoom:t,onZoom:r,onReset:n}=e;return(0,l.jsxs)("div",{style:{padding:12,background:"#071033",borderRadius:8,marginBottom:12},children:[(0,l.jsx)("h4",{style:{margin:"0 0 8px 0"},children:"Zoom & Pan"}),(0,l.jsxs)("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[(0,l.jsx)("button",{onClick:()=>{r({...t,scale:1.2*t.scale})},style:{padding:"6px 8px"},title:"Zoom In",children:"\uD83D\uDD0D+"}),(0,l.jsx)("button",{onClick:()=>{r({...t,scale:Math.max(1,t.scale/1.2)})},style:{padding:"6px 8px"},title:"Zoom Out",children:"\uD83D\uDD0D-"}),(0,l.jsx)("button",{onClick:()=>{r({...t,offset:t.offset-100/t.scale})},style:{padding:"6px 8px"},title:"Pan Left",children:"⬅️"}),(0,l.jsx)("button",{onClick:()=>{r({...t,offset:t.offset+100/t.scale})},style:{padding:"6px 8px"},title:"Pan Right",children:"➡️"}),(0,l.jsx)("button",{onClick:n,style:{padding:"6px 8px"},title:"Reset View",children:"Reset"})]}),(0,l.jsxs)("div",{style:{fontSize:"0.8em",marginTop:8,color:"#94a3b8",display:"flex",gap:12},children:[(0,l.jsxs)("span",{children:["Scale: ",t.scale.toFixed(2),"x"]}),(0,l.jsxs)("span",{children:["Offset: ",t.offset.toFixed(0),"ms"]})]})]})}let k=[{label:"Raw",value:"none"},{label:"Sum",value:"sum"},{label:"Average",value:"average"},{label:"Min",value:"min"},{label:"Max",value:"max"}],C=[{label:"1 min",value:6e4},{label:"5 min",value:3e5},{label:"1 hour",value:36e5}];function M(e){let{method:t,window:r,onMethodChange:n,onWindowChange:a}=e;return(0,l.jsxs)("div",{style:{padding:12,background:"#071033",borderRadius:8,marginBottom:12},children:[(0,l.jsx)("h4",{style:{margin:"0 0 8px 0"},children:"Data Aggregation"}),(0,l.jsxs)("div",{style:{marginBottom:8},children:[(0,l.jsx)("div",{style:{color:"#94a3b8",fontSize:"0.9em",marginBottom:4},children:"Method"}),(0,l.jsx)("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:k.map(e=>(0,l.jsx)("button",{onClick:()=>n(e.value),style:{padding:"6px 8px",background:t===e.value?"#1e40af":void 0,borderColor:t===e.value?"#60a5fa":void 0},children:e.label},e.value))})]}),"none"!==t&&(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{style:{color:"#94a3b8",fontSize:"0.9em",marginBottom:4},children:"Time Window"}),(0,l.jsx)("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:C.map(e=>(0,l.jsx)("button",{onClick:()=>a(e.value),style:{padding:"6px 8px",background:r===e.value?"#1e40af":void 0,borderColor:r===e.value?"#60a5fa":void 0},children:e.label},e.value))})]})]})}function P(e){let{initialData:t}=e;return(0,l.jsx)(i,{initialData:t,children:(0,l.jsx)(D,{})})}function D(){f(100);let{data:e}=o(),[t,r]=(0,n.useState)(3e5),[a,i]=(0,n.useState)(new Set),[u,p]=(0,n.useState)(!0),[v,k]=(0,n.useState)(100),[C,P]=(0,n.useState)({scale:1,offset:0}),[D,R]=(0,n.useState)({method:"none",window:6e4}),T=(0,n.useMemo)(()=>Array.from(new Set(e.map(e=>{var t;return null!==(t=e.category)&&void 0!==t?t:"unknown"}))),[e]),A=t===1/0?-1/0:Date.now()-t,I=(0,n.useMemo)(()=>e.filter(e=>{var t,r;return(null!==(t=e.timestamp)&&void 0!==t?t:0)>=A&&!a.has(null!==(r=e.category)&&void 0!==r?r:"")}),[e,A,a]);return f(v,u),(0,l.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 360px",gap:"24px",padding:"24px",minHeight:"100vh",background:s.bgPrimary,color:s.textPrimary},children:[(0,l.jsx)("main",{children:(0,l.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"24px"},children:[(0,l.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px",marginBottom:"8px"},children:(0,l.jsx)("div",{style:{...c,display:"flex",alignItems:"center",justifyContent:"center",padding:"16px"},children:(0,l.jsx)(y,{})})}),(0,l.jsx)("div",{style:{...c,padding:"20px",borderColor:s.borderAccent},children:(0,l.jsx)(x,{overrideData:I,zoom:C,aggregation:D})}),(0,l.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px"},children:[(0,l.jsx)("div",{style:c,children:(0,l.jsx)(g,{overrideData:I})}),(0,l.jsx)("div",{style:c,children:(0,l.jsx)(m,{overrideData:I})})]}),(0,l.jsx)("div",{style:c,children:(0,l.jsx)(h,{overrideData:I})}),(0,l.jsx)("div",{style:{...c,overflow:"hidden"},children:(0,l.jsx)(w,{data:I.slice().reverse(),height:360})})]})}),(0,l.jsxs)("aside",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[(0,l.jsxs)("div",{style:{...c,background:s.bgSecondary},children:[(0,l.jsx)("h4",{style:{margin:"0 0 16px 0",fontSize:"1.1rem",fontWeight:500,color:s.textAccent},children:"Stream Controls"}),(0,l.jsxs)("div",{style:{display:"flex",gap:"12px",marginBottom:"16px",alignItems:"center"},children:[(0,l.jsx)("button",{onClick:()=>p(e=>!e),style:{...d.base,...u?{backgroundColor:s.error,color:s.textPrimary}:{backgroundColor:s.success,color:s.textPrimary}},children:u?"⏸ Pause":"▶️ Start"}),(0,l.jsx)("button",{onClick:()=>{k(10)},style:{...d.base,backgroundColor:s.warning,color:s.textPrimary},children:"⚡ Stress Test"})]}),(0,l.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[(0,l.jsx)("label",{style:{color:s.textSecondary,fontSize:"0.9rem"},children:"Update Rate"}),(0,l.jsxs)("div",{style:{display:"flex",gap:"12px",alignItems:"center"},children:[(0,l.jsx)("input",{type:"range",min:10,max:1e3,value:v,onChange:e=>k(Number(e.target.value)),style:{flex:1,accentColor:s.bgAccent}}),(0,l.jsxs)("div",{style:{minWidth:"60px",textAlign:"right",color:s.textAccent,fontFamily:"monospace"},children:[v,"ms"]})]})]})]}),(0,l.jsx)(S,{zoom:C,onZoom:P,onReset:()=>P({scale:1,offset:0})}),(0,l.jsx)(j,{value:t,onChange:r,onCustomRange:(e,t)=>{r(t-e),P({scale:1,offset:Date.now()-t})}}),(0,l.jsx)(M,{method:D.method,window:D.window,onMethodChange:e=>R(t=>({...t,method:e})),onWindowChange:e=>R(t=>({...t,window:e}))}),(0,l.jsx)(b,{categories:T.map(e=>({id:e,group:e.split(".")[0],color:"hsl(".concat(360*Math.random(),", 70%, 50%)")})),hidden:a,onToggle:e=>{i(t=>{let r=new Set(t);return r.has(e)?r.delete(e):r.add(e),r})},onShowAll:()=>i(new Set),onHideAll:()=>i(new Set(T)),onGroupToggle:(e,t)=>{let r=T.filter(t=>t.split(".")[0]===e);t?i(e=>{let t=new Set(e);return r.forEach(e=>t.delete(e)),t}):i(e=>{let t=new Set(e);return r.forEach(e=>t.add(e)),t})}}),(0,l.jsx)("div",{style:{marginTop:12},children:(0,l.jsx)(y,{})})]})]})}},1523:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return n}});let l=r(8993);function n(e){let{reason:t,children:r}=e;if("undefined"==typeof window)throw new l.BailoutToCSRError(t);return r}},49:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadCss",{enumerable:!0,get:function(){return a}});let l=r(7437),n=r(544);function a(e){let{moduleIds:t}=e;if("undefined"!=typeof window)return null;let r=(0,n.getExpectedRequestStore)("next/dynamic css"),a=[];if(r.reactLoadableManifest&&t){let e=r.reactLoadableManifest;for(let r of t){if(!e[r])continue;let t=e[r].files.filter(e=>e.endsWith(".css"));a.push(...t)}}return 0===a.length?null:(0,l.jsx)(l.Fragment,{children:a.map(e=>(0,l.jsx)("link",{precedence:"dynamic",rel:"stylesheet",href:r.assetPrefix+"/_next/"+encodeURI(e),as:"style"},e))})}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=3146)}),_N_E=e.O()}]);